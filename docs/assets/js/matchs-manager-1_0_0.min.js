class MatchManager{constructor(t,s){this.t=t;this.s=s}sortData(){for(const t of this.e()){this.s.r(t).i()}}buildUI(){for(const t of this.e()){const s=this.s.r(t);const e=c.n(t);if(s.h()){const i=s.a();const r=i.c;const n=DateUtils.o(r,1,30);if(DateUtils.l(n,o.u())===g._){$("#next-match").hide();$(`#${e.m}`).hide();s.d()}else{this.f(e.m,r);if(this.$(t)){this.g(i);this.T(s)}}}if(this.$(t)){if(!s.h()){const h=$("#warning-message");let t=s.M;if(s.M!=s.p){t=`${s.M}/${s.p}`}h.text(`La saison ${t} est probablement terminée, nous vous invitons à revenir régulièrement et à recharger le site pour vérifier s'il y a ou non de nouvelles rencontres, merci de votre compréhension.`);h.show()}if(!s.w()){$("#second-next-match").hide()}new a(s.I,this.s).A();this.N()}}}$(t){return this.t===t}e(){return[MatchExternalConstants.KEY_SENIOR_TEAM]}f(t,s){const e=DateUtils.D(s);$(`#${t}`).text(new m(e).S());$(`#${t}`).show()}g(t){$("#next-match-title").show();$("#next-match-group").show();new n(t,this.s,"#next-match",f.y).A()}T(t){if(t.w()){new n(t.v(),this.s,"#second-next-match",f.y).A()}}N(){$("#waiting-message > button").hide();$("#waiting-message").removeAttr("style")}}class a{constructor(t,s){this.U=t;this.s=s}A(){if(this.U.length>0){$("#past-match-title").show();$("#past-match-text").show();$("#past-match-group").show();const s=this.U.map(function(t){return new h(t.c).S()});let t=0;for(const e of this.U){const i=s[t];new r(i).A();if(t>=this.U.length-1){$("#past-match-placeholder").hide()}new n(e,this.s,`#${i}`,f.L).A();t++}}}}class r{constructor(t){this.R=t}A(){const t=$("#past-match-group");const s=$("#past-match-placeholder").clone();s.attr("id",this.R);t.prepend(s)}}class n{constructor(t,s,e,i){this.x=t;this.s=s;this.R=e;this.O=i;this.b=null}A(){if(this.O){$(this.R).show()}this.F();this.G();this.H();this.Y();this.C()}F(){const t=$(`${this.R} > div > h5`);t.removeClass("placeholder w-50");if(this.X().K.length===1){t.text(`Match contre ${this.X().K[0].name}`)}else{t.text(`Match contre ${this.X().K.length} équipes`)}}G(){let t=null;const s=this.X().c;if(this.O){t=new d(DateUtils.D(s)).S()}else{t=new l(s).S()}if(t!==null){const e=$(`${this.R} > div > small`);e.removeClass("placeholder w-25");e.text(t)}}H(){const t=$(`${this.R} > p`);let s="Résultat à retrouver sur nos réseaux !";if(this.O){s=new u(this.X().c).S()}t.removeClass("placeholder w-50");t.text(s)}Y(){const t=$(`${this.R} > small`);t.removeClass("placeholder w-50");t.text(`Lieu : ${this.X().j} à ${this.X().P}`)}C(){$(`${this.R}`).removeClass("placeholder-wave")}X(){if(this.b===null){this.b=i.create(this.x,this.s)}return this.b}}class t{constructor(t,s){this.k=t;this.q=s}get W(){return this.k}get m(){return this.q}}class s{static B(){return new t(0,"menu-flag-seniors")}static J(){return new t(1,"menu-flag-u9")}static Q(){return new t(2,"menu-flag-u11m")}}class c{static V=s.B();static z=s.J();static Z=s.Q();static n(t){let s=null;switch(t){case"SEN":s=c.V;break;case"U9":s=c.z;break;case"U11M":s=c.Z;break}return s}}class MatchDb{constructor(){this.tt=[];this.st=[]}addTeamMatchList(t,s){const e=c.n(t);this.tt[e.W]=s}r(t){const s=c.n(t);if(s.W in this.tt){return this.tt[s.W]}throw new Error("Pas de données pour cet index !!")}addGym(t,s){this.st[t]=s}et(t){if(t in this.st){return this.st[t]}throw new Error("Pas de gymnase pour cet index !!")}}class TeamMatchList{constructor(){this.it=[];this.U=[];this.rt=null;this.nt=null;this.ht=0;this.ct=null;this.ot=null}addTeamMatch(t){const s=DateUtils.o(t.c,1,30);if(DateUtils.l(s,o.u())===g._){this.U.push(t)}else{this.it.push(t)}}i(){this.it.sort(function(t,s){return t.c.getTime()-s.c.getTime()});this.U.sort(function(t,s){return t.c.getTime()-s.c.getTime()})}d(){if(!this.h()){throw new Error("Impossible de supprimer la prochaine rencontre passée car elle n'existe pas !!")}let t=null;try{t=this.it.shift();this.U.unshift(t);this.rt=this.nt;this.nt=null;this.ht=0}catch(t){this.ht++;console.error(`L'erreur suivante s'est produite : ${t}`)}finally{if(this.ht>=f.lt){console.log("La page va être rechargée dans quelques secondes, merci de votre compréhension !")}}return t}h(){return this.it.length>0}w(){return this.it.length>1}a(){if(this.rt===null&&this.h()){this.rt=this.it[0]}return this.rt}v(){if(this.nt===null&&this.w()){this.nt=this.it[1]}return this.nt}get M(){if(!this.h()&&this.ct===null){this.ct=this.I[0].c.getFullYear()}return this.ct}get p(){if(!this.h()&&this.ot===null){this.ot=this.I[this.I.length-1].c.getFullYear()}return this.ot}get I(){return this.U}}class Team{constructor(t){this.ut=t}get name(){return this.ut}}class TeamMatch{constructor(t,s,e){this._t=t;this.mt=s;this.dt=e}get c(){return this._t}get ft(){return this.mt}get K(){return this.dt}}class Gym{constructor(t,s,e){this.ut=t;this.$t=s;this.gt=e}get name(){return this.ut}get Tt(){return this.$t}get Et(){return this.gt}}class e{constructor(t,s){this._t=t.c;this.dt=t.K;this.Mt=s}get c(){return this._t}get K(){return this.dt}get j(){return this.Mt.name}get pt(){return this.Mt.Tt}get P(){return this.Mt.Et}}class i{static create(t,s){return new e(t,s.et(t.ft))}}class o{static u(){return new Date}}class h{constructor(t){this.wt=t}S(){return`${this.At()}${this.It()}${this.Nt()}_${this.Dt()}${this.St()}`}Nt(){return this.wt.getDate()}It(){const t=this.wt.getMonth()+1;let s=t;if(t<10){s="0";s=s.concat(t)}return s}At(){return this.wt.getFullYear()}Dt(){return this.wt.getHours()}St(){const t=this.wt.getMinutes();let s=t;if(t<10){s="0";s=s.concat(t)}return s}}class l{constructor(t){this.wt=t}S(){return`${this.Nt()}/${this.It()}/${this.At()}`}Nt(){const t=this.wt.getDate();let s=t;if(s<10){s="0";s=s.concat(t)}return s}It(){const t=this.wt.getMonth()+1;let s=t;if(t<10){s="0";s=s.concat(t)}return s}At(){return this.wt.getFullYear()}}class u{constructor(t){this.wt=t}S(){return`Le ${this.Nt()} ${this.It()} ${this.At()} à ${this.Dt()}h${this.St()}`}Nt(){return this.wt.getDate()}It(){const t=["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"];return t[this.wt.getMonth()]}At(){return this.wt.getFullYear()}Dt(){return this.wt.getHours()}St(){const t=this.wt.getMinutes();let s=t;if(t<10){s="0";s=s.concat(t)}return s}}class _{constructor(t,s){this.yt=t;this.vt=s}get Ut(){return this.yt}get Lt(){return this.vt}}class m{constructor(t){this.Rt=t}S(){let t=this.Rt.Ut;if(this.Rt.Lt===g.xt){t=`J-${t}`}else if(this.Rt.Lt===g.Ot){t=`H-${t}`}else if(this.Rt.Lt===g.bt){t=`M-${t}`}return t}}class d{constructor(t){this.Rt=t}S(){let t=this.Rt.Ut;if(this.Rt.Lt===g.xt){t=`Dans ${t} jour(s)`}else if(this.Rt.Lt===g.Ot){t=`Dans ${t} heure(s)`}else if(this.Rt.Lt===g.bt){t=`Dans ${t} minute(s)`}return t}}class DateUtils{static convertStringToDate(t){const s=t.split(" ");const e=s[0].split("/");const i=s[1].split(":");return new Date(parseInt(e[2]),parseInt(e[1])-1,parseInt(e[0]),parseInt(i[0]),parseInt(i[1]))}static l(t,s){const e=t.getTime();const i=s.getTime();if(e<i){return g._}else if(e>i){return g.Ft}else{return g.Gt}}static D(t){const s=DateUtils.o(t,1,30);const e=DateUtils.l(t,o.u());let i="ATM";let r=g.Ht;if(!(e===g._||e===g.Gt)){const n=Math.ceil((t.getTime()-o.u().getTime())/6e4);const h=1440;const a=60;if(n>=h){i=Math.ceil(n/h);r=g.xt}else if(n>=a){i=Math.ceil(n/a);r=g.Ot}else{i=n;r=g.bt}}return new _(i,r)}static o(t,s,e){const i=36e5;const r=6e4;return new Date(t.getTime()+i*s+r*e)}}class MatchExternalConstants{static KEY_SENIOR_TEAM="SEN";static KEY_U9_TEAM="U9";static KEY_U11M_TEAM="U11M"}class f{static Yt=0;static Ct=1;static Kt=2;static lt=3;static y=true;static L=false}class g{static _=-1;static Ft=1;static Gt=0;static Ht=0;static bt=1;static Ot=2;static xt=3}